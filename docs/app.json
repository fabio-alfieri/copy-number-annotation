[{"name":"app.R","content":"library(shiny)\nlibrary(htmlwidgets)\nlibrary(htmltools)\nlibrary(ggnewscale)\n\n# source('dev/MAIN_dynamic_plotting.R')\n\nui <- fluidPage(\n    # 1) CSS to make the plot container fill the window\n    tags$head(\n        tags$style(HTML(\"\n      html, body { height: 100%; margin: 0; padding: 0; }\n      #plot_container {\n        width: 100%;\n        height: calc(100vh - 120px); /* adjust 120px to match title + input row height */\n      }\n      #plot_container .html-widget {\n        width: 100% !important;\n        height: 100% !important;\n      }\n    \"))\n    ),\n    \n    titlePanel(\"Copy Number Annotation Browser - CATCHY NAME NEEDED!\"),\n    \n    fluidRow(\n        column(width = 2,\n               selectInput(\n                   inputId  = \"type_input\",\n                   label    = \"Tumor type:\",\n                   choices  = c(\"BRCA\", \"COADREAD\", \"ESCA\", \n                                \"GBMLGG\", \"KIRC\", \"KIRP\", \n                                \"LUAD\", \"LUSC\", \"OV\", \"PAAD\", \"STAD\"),\n                   selected = \"BRCA\"\n               ),\n               selectInput(\n                   inputId  = \"model_input\",\n                   label    = \"Model type:\",\n                   choices  = c(\"Amplification\", \"Deletions\"),\n                   selected = \"Amplification\"\n               ),\n               textInput(\n                   inputId     = \"coord_input\",\n                   label       = \"Genomic coordinates:\",\n                   value       = \"chr1:1-1000000\",\n                   placeholder = \"e.g. chr1:100000-200000\"\n               )\n        ),\n        \n        column(width = 10,\n               # the resizable container for your widget\n               div(id = \"plot_container\",\n                   uiOutput(\"distPlot\")\n               )\n        )\n    )\n)\n\nserver <- function(input, output) {\n    \n    widget_reactive <- reactive({\n        req(input$type_input, input$model_input, input$coord_input)\n    \n        htmlwidgets::prependContent(\n          p,\n          tags$head(tags$style(HTML(tooltip_css)))\n        )\n    })\n    \n    output$distPlot <- renderUI({\n        widget_reactive()\n    })\n    \n    # output$distPlot <- renderUI({\n    #     p2\n    # })\n}\n\n# Run the application \nshinyApp(ui = ui, server = server)\n\nshinylive::export(appdir = \"annotation-demo/\", destdir = \"docs/\")\n","type":"text"},{"name":"annotation-demo.Rproj","content":"Version: 1.0\n\nRestoreWorkspace: Default\nSaveWorkspace: Default\nAlwaysSaveHistory: Default\n\nEnableCodeIndexing: Yes\nUseSpacesForTab: Yes\nNumSpacesForTab: 2\nEncoding: UTF-8\n\nRnwWeave: Sweave\nLaTeX: pdfLaTeX\n","type":"text"}]
